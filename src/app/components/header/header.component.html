<header class="bg-white border-b border-petrack-light/30 shadow-sm">
  <div class="max-w-6xl mx-auto px-4 flex items-center justify-between h-20">
    <!-- Logo + nome -->
    <div class="flex items-center gap-3">
      <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-petrack shrink-0">
        <lucide-icon name="paw-print" class="text-white w-6 h-6" [size]="24" />
      </div>
      <div>
        <span class="block text-lg font-semibold text-petrack-dark">PeTrack</span>
        <span class="block text-xs text-gray-500">Mato Grosso</span>
      </div>
    </div>

    <!-- Navegação central (página selecionada com destaque e hover) -->
    <nav class="hidden sm:flex items-center gap-1">
      <a
        routerLink="/"
        routerLinkActive="nav-link-active"
        [routerLinkActiveOptions]="{ exact: true }"
        class="nav-link"
      >
        Início
      </a>
      <a routerLink="/pets" routerLinkActive="nav-link-active" class="nav-link">Pets</a>
      <a routerLink="/tutores" routerLinkActive="nav-link-active" class="nav-link">tutores</a>
    </nav>

    <!-- Autenticado: foto + Sair | Não autenticado: Entrar (sem status Online) -->
    <div class="flex items-center gap-3">
      @if (auth.isAuthenticated()) {
        <div
          class="w-9 h-9 rounded-full border-2 border-petrack/20 overflow-hidden shrink-0 flex items-center justify-center bg-petrack-light"
          aria-hidden="true"
        >
          @if (auth.userPhoto(); as photoUrl) {
            <img [src]="photoUrl" alt="Foto do usuário" class="w-full h-full object-cover" />
          } @else {
            <lucide-icon name="user" class="text-petrack" [size]="20" />
          }
        </div>
        <button
          type="button"
          (click)="logout()"
          class="px-4 py-2 rounded-lg bg-petrack text-white font-medium hover:bg-petrack-dark transition-colors"
        >
          Sair
        </button>
      } @else {
        <a
          routerLink="/login"
          routerLinkActive="bg-petrack-dark"
          class="px-4 py-2 rounded-lg bg-petrack text-white font-medium hover:bg-petrack-dark transition-colors"
        >
          Entrar
        </a>
      }
    </div>
  </div>
</header>
